<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transformations-Übung: Instrumental</title>
    <script src="https://cdn.jsdelivr.net/npm/drag-drop-touch@1.3.1/DragDropTouch.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #27ae60;
            --error-color: #e74c3c;
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --border-color: #dcdde1;
        }

        /* Verbot von Kursivschrift */
        * {
            font-style: normal !important;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        h1, h2, h3 {
            text-align: center;
            color: var(--primary-color);
        }

        .intro-section {
            background: #eef2f7;
            padding: 20px;
            border-left: 8px solid var(--secondary-color);
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .exercise-card {
            border: 1px solid var(--border-color);
            padding: 25px;
            margin-bottom: 30px;
            border-radius: 12px;
            background: #fff;
            transition: background-color 0.3s;
        }

        .nom-sentence {
            background: #f8f9fa;
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #eee;
            margin-bottom: 15px;
            font-weight: bold;
            color: #555;
        }

        .instr-task {
            font-size: 1.2rem;
            margin-bottom: 20px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 10px;
        }

        .word-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .opt-btn {
            padding: 8px 16px;
            border: 2px solid var(--secondary-color);
            background: white;
            color: var(--secondary-color);
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
        }

        .opt-btn:hover {
            background: #f0f7ff;
        }

        .opt-btn.correct {
            background-color: var(--success-color) !important;
            border-color: var(--success-color) !important;
            color: white !important;
        }

        .opt-btn.incorrect {
            background-color: var(--error-color) !important;
            border-color: var(--error-color) !important;
            color: white !important;
        }

        .placeholder {
            border-bottom: 2px dashed var(--secondary-color);
            min-width: 100px;
            text-align: center;
            display: inline-block;
            padding: 0 5px;
        }

        .button-group {
            margin-top: 20px;
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .btn-ctrl {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            color: white;
        }

        .btn-reset { background-color: #7f8c8d; }
        .btn-sol { background-color: var(--success-color); }

        @media (max-width: 600px) {
            .container { padding: 15px; }
            .instr-task { font-size: 1.1rem; }
            .btn-ctrl { width: 100%; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Sprachassistent Russisch</h1>
    <h2>Transformations-Übung: Nominativ → Instrumental</h2>

    <div class="intro-section">
        <h3>Anleitung</h3>
        <p>Ein Satz steht im Nominativ (Beispiel: „Это новый проект“). Deine Aufgabe ist es, den Satz so umzuformen, dass er ein Verb nutzt, das den <strong>Instrumental</strong> verlangt.</p>
        <p>Klicke auf die korrekten Wortformen, um den Satz zu vervollständigen. Das Feedback (Richtig/Falsch) erfolgt sofort.</p>
    </div>

    <div id="exercise-container"></div>
</div>

<script>
    const taskData = [
        { id: 1, nom: "Это новый город.", instr: "Я интересуюсь ", adj: ["новым", "новом", "новому"], noun: ["городом", "городе", "города"], cAdj: "новым", cNoun: "городом" },
        { id: 2, nom: "Это русская культура.", instr: "Она интересуется ", adj: ["русской", "русскую", "русской"], noun: ["культурой", "культуру", "культуры"], cAdj: "русской", cNoun: "культурой" },
        { id: 3, nom: "Это современное искусство.", instr: "Мы восхищаемся ", adj: ["современным", "современном", "современное"], noun: ["искусством", "искусстве", "искусства"], cAdj: "современным", cNoun: "искусством" },
        { id: 4, nom: "Это хороший учитель.", instr: "Студенты довольны ", adj: ["хорошим", "хорошем", "хороший"], noun: ["учителем", "учителя", "учителю"], cAdj: "хорошим", cNoun: "учителем" },
        { id: 5, nom: "Это синее платье.", instr: "Мама довольна ", adj: ["синим", "синем", "синее"], noun: ["платьем", "платья", "платью"], cAdj: "синим", cNoun: "платьем" },
        { id: 6, nom: "Это талантливый сын.", instr: "Отец гордится ", adj: ["талантливым", "талантливом", "талантливого"], noun: ["сыном", "сына", "сыну"], cAdj: "талантливым", cNoun: "сыном" },
        { id: 7, nom: "Это древняя история.", instr: "Я интересуюсь ", adj: ["древней", "древную", "древняя"], noun: ["историей", "историю", "истории"], cAdj: "древней", cNoun: "историей" },
        { id: 8, nom: "Это классическая музыка.", instr: "Она занимается ", adj: ["классической", "классическую", "классическая"], noun: ["музыкой", "музыку", "музыки"], cAdj: "классической", cNoun: "музыкой" },
        { id: 9, nom: "Это честный человек.", instr: "Мы восхищаемся ", adj: ["честным", "честном", "честного"], noun: ["человеком", "человека", "человеку"], cAdj: "честным", cNoun: "человеком" },
        { id: 10, nom: "Это летняя погода.", instr: "Все довольны ", adj: ["летней", "летнюю", "летняя"], noun: ["погодой", "погоду", "погоды"], cAdj: "летней", cNoun: "погодой" },
        { id: 11, nom: "Это яркое солнце.", instr: "Мы любуемся ", adj: ["ярким", "ярком", "яркое"], noun: ["солнцем", "солнца", "солнцу"], cAdj: "ярким", cNoun: "солнцем" },
        { id: 12, nom: "Это трудная работа.", instr: "Он занят ", adj: ["трудной", "трудную", "трудным"], noun: ["работой", "работу", "работой"], cAdj: "трудной", cNoun: "работой" },
        { id: 13, nom: "Это большая компания.", instr: "Анна управляет ", adj: ["большой", "большую", "большим"], noun: ["компанией", "компанию", "компании"], cAdj: "большой", cNoun: "компанией" },
        { id: 14, nom: "Это чёрный карандаш.", instr: "Я пишу ", adj: ["чёрным", "чёрном", "чёрный"], noun: ["карандашом", "карандаша", "карандаше"], cAdj: "чёрным", cNoun: "карандашом" },
        { id: 15, nom: "Это последняя новость.", instr: "Мы довольны ", adj: ["последней", "последнюю", "последняя"], noun: ["новостью", "новость", "новости"], cAdj: "последней", cNoun: "новостью" },
        { id: 16, nom: "Это высокое здание.", instr: "Туристы любуются ", adj: ["высоким", "высоком", "высокое"], noun: ["зданием", "здания", "зданию"], cAdj: "высоким", cNoun: "зданием" },
        { id: 17, nom: "Это чужой успех.", instr: "Он восхищается ", adj: ["чужим", "чужым", "чужой"], noun: ["успехом", "успеха", "успеху"], cAdj: "чужим", cNoun: "успехом" },
        { id: 18, nom: "Это маленькая собака.", instr: "Ребёнок играет с ", adj: ["маленькой", "маленькую", "маленький"], noun: ["собакой", "собаку", "собаки"], cAdj: "маленькой", cNoun: "собакой" },
        { id: 19, nom: "Это лучший друг.", instr: "Саша гуляет с ", adj: ["лучшим", "лучшим", "лучшим"], noun: ["другом", "друга", "другу"], cAdj: "лучшим", cNoun: "другом" },
        { id: 20, nom: "Это свежий хлеб.", instr: "Я ем суп со ", adj: ["свежим", "свежым", "свежий"], noun: ["хлебом", "хлеба", "хлебе"], cAdj: "свежим", cNoun: "хлебом" }
    ];

    function shuffle(array) {
        return array.sort(() => Math.random() - 0.5);
    }

    function renderTasks() {
        const container = document.getElementById('exercise-container');
        container.innerHTML = '';

        taskData.forEach((task, index) => {
            const card = document.createElement('div');
            card.className = 'exercise-card';
            
            const shuffledAdj = shuffle([...task.adj]);
            const shuffledNoun = shuffle([...task.noun]);

            card.innerHTML = `
                <div class="nom-sentence">Nominativ: ${task.nom}</div>
                <div class="instr-task">
                    <span>${task.instr}</span>
                    <span class="placeholder" id="p-adj-${task.id}">__________</span>
                    <span class="placeholder" id="p-noun-${task.id}">__________</span>.
                </div>
                
                <div class="word-options" id="adj-opts-${task.id}">
                    <strong>Adjektiv:</strong><br>
                    ${shuffledAdj.map(opt => `<button class="opt-btn" onclick="checkWord(${task.id}, 'adj', '${opt}', '${task.cAdj}')">${opt}</button>`).join('')}
                </div>
                
                <div class="word-options" id="noun-opts-${task.id}" style="margin-top:15px;">
                    <strong>Substantiv:</strong><br>
                    ${shuffledNoun.map(opt => `<button class="opt-btn" onclick="checkWord(${task.id}, 'noun', '${opt}', '${task.cNoun}')">${opt}</button>`).join('')}
                </div>

                <div class="button-group">
                    <button class="btn-ctrl btn-reset" onclick="resetTask(${index})">Neu mischen</button>
                    <button class="btn-ctrl btn-sol" onclick="showSolution(${task.id}, '${task.cAdj}', '${task.cNoun}')">Lösung</button>
                </div>
            `;
            container.appendChild(card);
        });
    }

    window.checkWord = (taskId, type, selected, correct) => {
        const placeholder = document.getElementById(`p-${type}-${taskId}`);
        const buttons = document.querySelectorAll(`#${type}-opts-${taskId} .opt-btn`);
        
        placeholder.innerText = selected;
        
        buttons.forEach(btn => {
            btn.classList.remove('correct', 'incorrect');
            if (btn.innerText === selected) {
                if (selected === correct) {
                    btn.classList.add('correct');
                    placeholder.style.color = 'var(--success-color)';
                } else {
                    btn.classList.add('incorrect');
                    placeholder.style.color = 'var(--error-color)';
                }
            }
        });
    };

    window.resetTask = (index) => {
        renderTasks(); // Einfach alles neu laden, mischt automatisch
    };

    window.showSolution = (taskId, cAdj, cNoun) => {
        document.getElementById(`p-adj-${taskId}`).innerText = cAdj;
        document.getElementById(`p-adj-${taskId}`).style.color = 'var(--success-color)';
        document.getElementById(`p-noun-${taskId}`).innerText = cNoun;
        document.getElementById(`p-noun-${taskId}`).style.color = 'var(--success-color)';
        
        const adjBtns = document.querySelectorAll(`#adj-opts-${taskId} .opt-btn`);
        adjBtns.forEach(btn => {
            btn.classList.remove('incorrect');
            if(btn.innerText === cAdj) btn.classList.add('correct');
        });

        const nounBtns = document.querySelectorAll(`#noun-opts-${taskId} .opt-btn`);
        nounBtns.forEach(btn => {
            btn.classList.remove('incorrect');
            if(btn.innerText === cNoun) btn.classList.add('correct');
        });
    };

    renderTasks();
</script>

</body>
</html>